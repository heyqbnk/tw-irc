!function(e){var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,n){if(!k[e]||!b[e])return;for(var t in b[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(m[t]=n[t]);0==--y&&0===w&&P()}(e,t),n&&n(e,t)};var t,o=!0,r="edce03a630d964c08090",i=1e4,s={},c=[],a=[];function u(e){var n=M[e];if(!n)return _;var o=function(o){return n.hot.active?(M[o]?-1===M[o].parents.indexOf(e)&&M[o].parents.push(e):(c=[e],t=o),-1===n.children.indexOf(o)&&n.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),c=[]),_(o)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return _[e]},set:function(n){_[e]=n}}};for(var i in _)Object.prototype.hasOwnProperty.call(_,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(o,i,r(i));return o.e=function(e){return"ready"===f&&h("prepare"),w++,_.e(e).then(n,function(e){throw n(),e});function n(){w--,"prepare"===f&&(g[e]||E(e),0===w&&0===y&&P())}},o.t=function(e,n){return 1&n&&(e=o(e)),_.t(e,-2&n)},o}function l(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:t!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)n._acceptedDependencies[e[o]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:O,apply:j,status:function(e){if(!e)return f;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var n=d.indexOf(e);n>=0&&d.splice(n,1)},data:s[e]};return t=void 0,n}var d=[],f="idle";function h(e){f=e;for(var n=0;n<d.length;n++)d[n].call(null,e)}var p,m,v,y=0,w=0,g={},b={},k={};function C(e){return+e+""===e?+e:e}function O(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return o=e,h("check"),(n=i,n=n||1e4,new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var o=new XMLHttpRequest,i=_.p+""+r+".hot-update.json";o.open("GET",i,!0),o.timeout=n,o.send(null)}catch(e){return t(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)t(new Error("Manifest request to "+i+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)t(new Error("Manifest request to "+i+" failed."));else{try{var n=JSON.parse(o.responseText)}catch(e){return void t(e)}e(n)}}})).then(function(e){if(!e)return h("idle"),null;b={},g={},k=e.c,v=e.h,h("prepare");var n=new Promise(function(e,n){p={resolve:e,reject:n}});m={};return E(0),"prepare"===f&&0===w&&0===y&&P(),n});var n}function E(e){k[e]?(b[e]=!0,y++,function(e){var n=document.createElement("script");n.charset="utf-8",n.src=_.p+""+e+"."+r+".hot-update.js",document.head.appendChild(n)}(e)):g[e]=!0}function P(){h("ready");var e=p;if(p=null,e)if(o)Promise.resolve().then(function(){return j(o)}).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&n.push(C(t));e.resolve(n)}}function j(n){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var t,o,i,a,u;function l(e){for(var n=[e],t={},o=n.map(function(e){return{chain:[e],id:e}});o.length>0;){var r=o.pop(),i=r.id,s=r.chain;if((a=M[i])&&!a.hot._selfAccepted){if(a.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(a.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var c=0;c<a.parents.length;c++){var u=a.parents[c],l=M[u];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([u]),moduleId:i,parentId:u};-1===n.indexOf(u)&&(l.hot._acceptedDependencies[i]?(t[u]||(t[u]=[]),d(t[u],[i])):(delete t[u],n.push(u),o.push({chain:s.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function d(e,n){for(var t=0;t<n.length;t++){var o=n[t];-1===e.indexOf(o)&&e.push(o)}}n=n||{};var p={},y=[],w={},g=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var b in m)if(Object.prototype.hasOwnProperty.call(m,b)){var O;u=C(b);var E=!1,P=!1,j=!1,x="";switch((O=m[b]?l(u):{type:"disposed",moduleId:b}).chain&&(x="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":n.onDeclined&&n.onDeclined(O),n.ignoreDeclined||(E=new Error("Aborted because of self decline: "+O.moduleId+x));break;case"declined":n.onDeclined&&n.onDeclined(O),n.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+x));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(O),n.ignoreUnaccepted||(E=new Error("Aborted because "+u+" is not accepted"+x));break;case"accepted":n.onAccepted&&n.onAccepted(O),P=!0;break;case"disposed":n.onDisposed&&n.onDisposed(O),j=!0;break;default:throw new Error("Unexception type "+O.type)}if(E)return h("abort"),Promise.reject(E);if(P)for(u in w[u]=m[u],d(y,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,u)&&(p[u]||(p[u]=[]),d(p[u],O.outdatedDependencies[u]));j&&(d(y,[O.moduleId]),w[u]=g)}var S,D=[];for(o=0;o<y.length;o++)u=y[o],M[u]&&M[u].hot._selfAccepted&&w[u]!==g&&D.push({module:u,errorHandler:M[u].hot._selfAccepted});h("dispose"),Object.keys(k).forEach(function(e){!1===k[e]&&function(e){delete installedChunks[e]}(e)});for(var I,H,A=y.slice();A.length>0;)if(u=A.pop(),a=M[u]){var L={},R=a.hot._disposeHandlers;for(i=0;i<R.length;i++)(t=R[i])(L);for(s[u]=L,a.hot.active=!1,delete M[u],delete p[u],i=0;i<a.children.length;i++){var N=M[a.children[i]];N&&((S=N.parents.indexOf(u))>=0&&N.parents.splice(S,1))}}for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(a=M[u]))for(H=p[u],i=0;i<H.length;i++)I=H[i],(S=a.children.indexOf(I))>=0&&a.children.splice(S,1);for(u in h("apply"),r=v,w)Object.prototype.hasOwnProperty.call(w,u)&&(e[u]=w[u]);var q=null;for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&(a=M[u])){H=p[u];var U=[];for(o=0;o<H.length;o++)if(I=H[o],t=a.hot._acceptedDependencies[I]){if(-1!==U.indexOf(t))continue;U.push(t)}for(o=0;o<U.length;o++){t=U[o];try{t(H)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:u,dependencyId:H[o],error:e}),n.ignoreErrored||q||(q=e)}}}for(o=0;o<D.length;o++){var J=D[o];u=J.module,c=[u];try{_(u)}catch(e){if("function"==typeof J.errorHandler)try{J.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:t,originalError:e}),n.ignoreErrored||q||(q=t),q||(q=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:u,error:e}),n.ignoreErrored||q||(q=e)}}return q?(h("fail"),Promise.reject(q)):(h("idle"),new Promise(function(e){e(y)}))}var M={};function _(n){if(M[n])return M[n].exports;var t=M[n]={i:n,l:!1,exports:{},hot:l(n),parents:(a=c,c=[],a),children:[]};return e[n].call(t.exports,t,t.exports,u(n)),t.l=!0,t.exports}_.m=e,_.c=M,_.d=function(e,n,t){_.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},_.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_.t=function(e,n){if(1&n&&(e=_(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(_.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)_.d(t,o,function(n){return e[n]}.bind(null,o));return t},_.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(n,"a",n),n},_.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},_.p="",_.h=function(){return r},u(0)(_.s=0)}([function(e,n,t){"use strict";var o,r;function i(e){var n=parseInt(e,10);return n.toString()===e?n:e}function s(e){var n="@"===e[0]?e.slice(1):e;return""===n?null:n.split(";").reduce(function(e,n){var t,o=n.split("="),r=o[0],s=o[1];return e[(t=r,t.replace(/-[a-z]/gi,function(e){return e.slice(1).toUpperCase()}))]=function(e){return 0===e.length?null:e.includes(",")?e.split(",").map(i):i(e)}(s),e},{})}function c(e){if(e.includes("!")){var n=e.match(/(.*)!(.*)@(.*)/);return n?{nickName:n[1],user:n[2],host:n[3]}:null}return{user:null,host:e,nickName:null}}function a(e){return 0===e.length?[]:"\n"===e[e.length-1]?e.slice(0,-1).split("\n"):e.split("\n")}function u(e){var n=e.split(":").map(function(e){return e.trim()}),t=n[0],o=n[1],r=n.slice(2).join(":")||null;if(t.match(/^[A-Z]+/))return{prefix:c(o),meta:null,parameters:null,command:t,data:r,raw:e};var i=o.split(" "),a=i[0],u=i[1],l=i.slice(2);return{prefix:c(a),meta:s(t),parameters:l,command:u,data:r,raw:e}}t.r(n),function(e){e.CapabilityRequest="CAP REQ",e.JoinChannel="JOIN",e.LeaveChannel="PART",e.Message="PRIVMSG",e.Nickname="NICK",e.Password="PASS",e.Ping="PING",e.Pong="PONG"}(o||(o={})),function(e){e[e.Connecting=0]="Connecting",e[e.Open=1]="Open",e[e.Closing=2]="Closing",e[e.Closed=3]="Closed"}(r||(r={}));var l,d=function(e){var n=this;this.listeners=[],this.bindEvents=function(){if(!n.socket)throw new Error("WebSocket was not initialized");n.listeners.forEach(function(e){var t=e.eventName,o=e.listener;n.socket.removeEventListener(t,o),n.socket.addEventListener(t,o)})},this.onMessage=function(e){a(e.data).forEach(function(e){u(e).command===o.Ping&&n.send(o.Pong)})},this.connect=function(){n.socket&&n.socket.close(),n.socket=new WebSocket(n.path),n.bindEvents()},this.disconnect=function(){n.socket&&n.socket.close()},this.on=function(e,t){n.listeners.push({eventName:e,listener:t}),n.socket&&n.bindEvents()},this.off=function(e,t){var o=n.listeners.findIndex(function(n){return n.listener===t&&n.eventName===e});o>-1&&n.listeners.splice(o,1)},this.getReadyState=function(){return n.socket?n.socket.readyState:r.Closed},this.send=function(e){if(!n.socket)throw new Error("Socket was not initialized. Call connect() first.");n.socket.send(e)};var t=e.secure;this.path=t?"wss://irc-ws.chat.twitch.tv:443":"ws://irc-ws.chat.twitch.tv:80",this.on("message",this.onMessage)},f=o.JoinChannel,h=o.LeaveChannel,p=o.Message;function m(e){var n=e.command,t=e.channel,o=e.message,r=[n];return t&&r.push("#"+t),o&&r.push(o),r.join(" ")}var v=((l={})[f]=function(e,n){var t=n.channel;return e(m({command:f,channel:t}))},l[h]=function(e,n){var t=n.channel;return e(m({command:h,channel:t}))},l[p]=function(e,n){var t=n.message,o=n.channel;return e(p+" #"+o+" :"+t)},l),y=function(e){var n=this;this.sendRawMessage=function(e){return n.socket.send(e)},this.sendCommand=function(e,t){(0,v[e])(n.sendRawMessage,t)},this.socket=e},w=function(){return(w=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},g=function(e){var n=this;this.channelCommand=function(e){return function(t){return n.client.say(e,t)}},this.channelMode=function(e){return{on:function(t){return n.client.say(e,t)},off:function(t){return n.client.say(e+"off",t)}}},this.join=function(e){n.client.utils.sendCommand(o.JoinChannel,{channel:e})},this.leave=function(e){n.client.utils.sendCommand(o.LeaveChannel,{channel:e})},this.emoteOnly=this.channelMode("/emoteonly"),this.followersOnly=this.channelMode("/followers"),this.r9k=this.channelMode("/r9kbeta"),this.slowmode=w({},this.channelMode("/slow"),{on:function(e,t){return n.client.say("/slow "+e,t)}}),this.deleteMessage=function(e,t){n.client.say("/delete "+e,t)},this.playCommercial=function(e,t){n.client.say("/commercial "+e,t)},this.clearChat=this.channelCommand("/clear"),this.host=function(e,t){n.client.say("/host "+e,t)},this.unhost=this.channelCommand("/unhost"),this.raid=function(e,t){n.client.say("/raid "+e,t)},this.unraid=this.channelCommand("/unraid"),this.marker=function(e,t){n.client.say("/marker "+e,t)},this.me=function(e,t){n.client.say("/me "+e,t)},this.changeColor=function(e,t){n.client.say("/color "+e,t)},this.client=e},b=function(e){var n=this;this.userCommand=function(e){return function(t,o){return n.client.say(e+" "+t,o)}},this.ban=this.userCommand("/ban"),this.unban=this.userCommand("/unban"),this.mod=this.userCommand("/mod"),this.unmod=this.userCommand("/unmod"),this.vip=this.userCommand("/vip"),this.unvip=this.userCommand("/unvip"),this.timeout=function(e,t,o,r){void 0===t&&(t="10m"),n.client.say("/timeout "+e+" "+t+(o?" "+o:""),r)},this.untimeout=this.userCommand("/untimeout"),this.whisper=function(e,t,o){n.client.say("/w "+e+" "+t,o)},this.client=e};function k(e){return e.parameters[0].slice(1)}function C(e){return{channel:k(e),user:e.prefix.user}}var O,E=C;var P=((O={})[o.JoinChannel]=C,O[o.LeaveChannel]=E,O[o.Message]=function(e){return{channel:k(e),message:e.data,user:e.prefix.user,userInfo:e.meta}},O),j=function(e){var n=this;this.commandListeners=[],this.onMessage=function(e){var t=u(e.data);n.commandListeners.forEach(function(e){if(e.command===t.command){var n=P[t.command];e.listener(n(t))}})},this.on=function(e,t){n.commandListeners.push({command:e,listener:t})},this.off=function(e,t){var o=n.commandListeners.findIndex(function(n){return n.listener===t&&n.command===e});o>-1&&n.commandListeners.splice(o,1)},this.socket=e,this.socket.on("message",this.onMessage)};function M(){return{login:"justinfan"+Math.floor(1e5*Math.random()),password:Math.random().toString(36).slice(2)}}var _=function(e,n,t,o){return new(t||(t=Promise))(function(r,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function c(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(s,c)}a((o=o.apply(e,n||[])).next())})},x=function(e,n){var t,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},S=new function(e){var n=this;void 0===e&&(e={}),this.channels=new g(this),this.users=new b(this),this.onWebSocketOpen=function(){var e=n,t=e.auth,r=t.password,i=t.login,s=e.utils.sendRawMessage;["membership","tags","commands"].forEach(function(e){s(o.CapabilityRequest+" :twitch.tv/"+e)}),s(o.Password+" "+r),s(o.Nickname+" "+i)},this.connect=function(){return n.socket.connect()},this.disconnect=function(){return n.socket.disconnect()},this.on=function(e,t){n.events.on(e,t)},this.off=function(e,t){n.events.off(e,t)},this.assignChannel=function(e){return n.assignedChannel=e},this.say=function(e,t){if(!t&&!n.assignedChannel)throw new Error("Cannot send message due to channel is not stated");n.utils.sendCommand(o.Message,{channel:t||n.assignedChannel,message:e})};var t=e.secure,r=e.auth;r?r.password.startsWith("oauth:")?this.auth=r:(function(e){console.warn('Stated password "'+e+'" is invalid. It should start with "oauth:". Your auth data will be ignored. Please follow these instructions to get more info:\nhttps://twitchapps.com/tmi/\nhttps://dev.twitch.tv/docs/authentication/')}(r.password),this.auth=M()):this.auth=M();var i=new d({secure:t});i.on("open",this.onWebSocketOpen),this.utils=new y(i),this.events=new j(i),this.socket=i};function D(){var e=S.socket.getReadyState();e===r.Open?console.warn("Socket connection is established"):e===r.Closed?console.warn("Socket connection is closed"):e===r.Closing?console.warn("Socket connection is closing"):console.warn("Socket connection is being established..")}D(),S.socket.on("open",function(){return _(void 0,void 0,void 0,function(){return x(this,function(e){return D(),S.channels.join("qbnk"),S.assignChannel("qbnk"),S.say("Hello!"),S.on(o.Message,function(e){var n=e.channel,t=e.message,o=e.user,r=e.userInfo;console.warn(r,"#"+n+" "+o+": "+t)}),S.on(o.JoinChannel,function(e){var n=e.channel,t=e.user;console.warn("#"+n+": "+t+" joined channel")}),S.on(o.LeaveChannel,function(e){var n=e.channel,t=e.user;console.warn("#"+n+": "+t+" left channel")}),S.socket.on("message",function(e){var n=a(e.data).map(u);console.log("Customly parsed messages:",n)}),[2]})})}),S.socket.on("close",function(){D()}),S.connect(),e.hot.accept(),window.irc=S}]);
